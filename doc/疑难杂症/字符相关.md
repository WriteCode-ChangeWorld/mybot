### 不可见字符\u200b

```python
# 肉眼上看是0字符,但实际使用len来看是1字符
a = "查询pid:92839682\u200b"
a = a.replace("\u200b","")
# ''
```

解决方法：
bot发送消息前，对message进行检查，将`\u200b`进行替换



### pymysql 查询 1054

```
# pymysql.err.OperationalError
# 参考文章
https://blog.csdn.net/qq_42098517/article/details/89300618
https://blog.csdn.net/qq_45701131/article/details/115803260
```

repr将参数值全部转化为str,可解决pymysql where查询不到中文字符串/1054问题

```mysql
# python 查询group_name为测试群组的记录
# 转化为mysql语句为
SELECT * FROM messages WHERE group_name = 测试群组 LIMIT 1

# 解决方案 对非数字的数据进行repr
SELECT * FROM messages WHERE group_name = 测试群组 LIMIT 1
```



**验证**

VARCHAR字段，传字符串

```mysql
# Pass
DBClient.select_records(table="messages",**{"raw_message":"TEST"})
DBClient.select_records(table="messages",**{"group_name":"测试群组"})
DBClient.update_records(table="messages",**{"update_data":{"raw_message":"TEST"}, "judge_data":{"group_name":"测试群组"}})
DBClient.delete_records(table="messages",**{"judge_data":{"raw_message":"TEST"}})

DBClient.select_records(table="messages",**{"raw_message":"'TEST'"})
DBClient.select_records(table="messages",**{"group_name":"'测试群组'"})
```

INT字段，传数字

```mysql
DBClient.select_records(table="messages",limit=1,**{"group_id":835006})
```

INT字段，传字符串

```mysql
DBClient.select_records(table="messages",limit=1,**{"group_id":"835006"})
```

VARCHAR字段，传数字

```mysql
DBClient.select_records(table="messages",limit=1,**{"raw_message":123})
```

















