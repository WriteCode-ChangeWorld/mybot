## 全局变量模块

全局变量由config.py中的Config类控制，并实现一些拼接CQ码、回复信息信息，采用单例模式（先使用实例化一个类，单独导入实例化对象的方法）

| name                    | default  | description                                                  |
| ----------------------- | -------- | ------------------------------------------------------------ |
| config                  |          | config.yaml配置文件                                          |
| saucenao_api_key        |          | 用于saucenao接口的api key。目前仍然存在30秒只能搜索6张的限制； 多个api_key目前也无法解决 |
| search_img_list         |          | 记录私聊搜图状态的用户信息，每5秒清理一次60秒未活动用户      |
| search_image_group_list |          | 记录群聊搜图状态的用户信息，每5秒清理一次60秒未活动用户      |
| app                     |          | app是Flask实例化对象，它接收包或者模块的名字作为参数，但一般都是传递name。 让flask.helpers.get_root_path函数通过传入这个名字确定程序的根目录，以便获得静态文件和模板文件的目录。 |
| pope                    |          | Church类实例化对象，用于事件处理，与executor协同工作         |
| executor                |          | Executor类实例化对象，接收pope的data并进行解析和返回结果     |
| cq_url                  |          | 机器人消息上传接口：ip:port                                  |
| send_group_url          |          | 上传群聊信息的接口                                           |
| send_private_url        |          | 上传私聊信息的接口                                           |
| vip_level               | [50,999] | 无限制等级,从config.yaml中获取                               |
| limit_level             | [10]     | 有限制等级,从config.yaml中获取                               |
| reporter                | [22222]  | 发送报告的对象；建议仅设置1人，设置多人则选择第一个（可设置为master） |
| master                  | [11111]  | 机器人管理员，用以管理机器人                                 |
|                         |          |                                                              |
|                         |          |                                                              |
|                         |          |                                                              |
|                         |          |                                                              |
|                         |          |                                                              |



### demo

config.py

```python

class config:
	"""
	全局变量模块demo
	"""
	def __init__(self):
        self.c = [1,2,3]
        self.c1 = ["master","salve"]

	def get(self,key):
        return eval("self.{}".format(key))

# 单例模式
CFG = config()
```

main.py

```python
import slave
from config import CFG

c = CFG.c
print(1,c)

for i in range(4,7):
	slave.test(i)


c = CFG.get("c")
print(3,c)
```

slave.py

```python
from config import CFG

def test(num):
	c = CFG.c
	c.append(num)
	print(2,c)
```

